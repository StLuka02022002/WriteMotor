# WriteMotor
Библиотека WriteMotor

Ультралёгкая библиотека для управления двигателями постоянного тока  с  помощью драйвера L298N
Данная библиотека предназначена для управления двумя моторами, подключенными к драйверу L298N, с помощью Arduino. Она предоставляет возможность управления скоростью и направлением вращения каждого мотора.

Поддерживаемые драйверы

  L298N
  L293D
  TB6612NG
  L9110S
  DRV8833
  L298P
  
Эта библиотека может работать с другими драйверами, которые имеют аналогичный интерфейс управления моторами.

Установка

    Скачайте библиотеку WriteMotor в формате ZIP, нажав на зеленую кнопку "Code" на главной странице репозитория, и выбрав "Download ZIP".
    Подключите Arduino к компьютеру и запустите среду разработки Arduino.
    Выберите пункт "Sketch" -> "Include Library" -> "Add .ZIP Library" в меню среды разработки.
    Выберите скачанную библиотеку WriteMotor и нажмите кнопку "Открыть".
    Библиотека WriteMotor теперь установлена и готова к использованию.
    
Класс Motor

Класс Motor представляет отдельный мотор и имеет следующие методы:

    Motor(int8_t _pinDirection, int8_t _pinInput) - конструктор класса, который принимает два аргумента: _pinDirection и _pinInput. _pinDirection - номер пина для управления направлением мотора, _pinInput - номер ШИМ-пина для управления скоростью мотора.
    revers() - изменение направления вращения на противоположное без изменения скорости.
    revers(int value) - изменение направления вращения на противоположное и задание конечной скорости value.
    setRevers(int8_t revers) - определение направления вращения мотора. Если revers > 0, то направление FORWARD будет направлением вперед, если revers < 0, то направление FORWARD будет направлением назад, если revers = 0, то направление меняться не будет.
    stop() - остановка мотора.
    writeMotor(int value) - задание скорости мотора без указания направления вращения.
    writeMotor(int value, int8_t revers) - задание скорости и направления вращения мотора.
    getValueLimit(int value) - ограничение по скорости вращения.
    getRevers() - возвращение направления вращения. При остановке мотора возвращает 0.
    getValue() - возвращение скорости мотора.

Класс WriteMotor

Класс WriteMotor представляет два мотора и имеет следующие методы:

    WriteMotor(int8_t _pinDirection1, int8_t _pinInput1, int8_t _pinDirection2, int8_t _pinInput2) - конструктор класса, который принимает четыре аргумента: _pinDirection1, _pinInput1, _pinDirection2, _pinInput2. _pinDirection1 и _pinDirection2 - номера пинов для управления направлением двух моторов, _pinInput1 и _pinInput2 - номера ШИМ-пинов для управления скоростью двух моторов.
    revers() - изменение направления вращения обоих моторов на противоположное без изменения скорости.
    revers(int value) - изменение направления вращения обоих моторов на противоположное и задание конечной скорости value.
    revers(int8_t motor) - изменение направления вращения определенного мотора на противоположное без изменения скорости. Аргумент motor может принимать значения MOTOR1 или MOTOR2.
    stop() - останавливает оба мотора, вызывая метод stop() для объектов Motor, связанных с каждым мотором.
    stop(int8_t motor) - останавливает определенный мотор в зависимости от переданного параметра "motor", который может быть MOTOR1 или MOTOR2. Если параметр не соответствует ни одному мотору, то метод ничего не делает.
    setRevers(int8_t revers): метод, который устанавливает направление вращения для обоих моторов. Этот метод вызывает метод setRevers(int8_t revers) для каждого объекта класса Motor.
    setRevers(int8_t motor, int8_t revers): метод, который устанавливает направление вращения для одного мотора. Этот метод вызывает метод setRevers(int8_t revers) для объекта класса Motor, который управляет мотором с номером motor.
    writeMotor(int value) - устанавливает скорость обоих моторов на заданное значение "value", вызывая метод writeMotor() для объектов Motor, связанных с каждым мотором. При этом направление вращения не меняется.
    writeMotor(int8_t motor, int value) - устанавливает скорость определенного мотора на заданное значение "value" в зависимости от переданного параметра "motor", который может быть MOTOR1 или MOTOR2. Если параметр не соответствует ни одному мотору, то метод ничего не делает.
    writeMotor(int8_t motor, int value, int8_t revers) - устанавливает скорость и направление вращения определенного мотора на заданные значения "value" и "revers" соответственно в зависимости от переданного параметра "motor", который может быть MOTOR1 или MOTOR2. Если параметр не соответствует ни одному мотору, то метод ничего не делает.
    getRevers(int8_t motor) - возвращает текущее направление вращения определенного мотора в зависимости от переданного параметра "motor", который может быть MOTOR1 или MOTOR2. Если параметр не соответствует ни одному мотору, то метод возвращает 0.
    getValue(int8_t motor) - возвращает текущую скорость определенного мотора в зависимости от переданного параметра "motor", который может быть MOTOR1 или MOTOR2. Если параметр не соответствует ни одному мотору, то метод возвращает 0.
    getMotor1() - возвращает объект Motor, связанный с MOTOR1 (левый мотор).
    getMotor2() - возвращает объект Motor, связанный с MOTOR2 (правый мотор).
    getMotor(int8_t motor) - возвращает объект Motor, связанный с определенным мотором в зависимости от переданного параметра "motor", который может быть MOTOR1 или MOTOR2. Если параметр не соответствует ни одному мотору, то метод возвращает объект Motor, связанный с MOTOR1.
    
    В данном коде определены константы, которые используются для упрощения чтения и написания кода в остальных частях программы.

    FORWARD - константа, обозначающая направление вперед.
    BACK - константа, обозначающая направление назад.
    STOP - константа, обозначающая остановку.
    MOTOR1 - константа, обозначающая первый мотор (левый).
    MOTOR2 - константа, обозначающая второй мотор (правый).
    MIN_VALUE - константа, обозначающая минимальную скорость мотора.
    MAX_VALUE - константа, обозначающая максимальную скорость мотора.
    
Примеры

Примеры использования библиотеки можно найти в папке examples.

Авторы

Авторы библиотеки: Luka sergey.lukyanenko02022002@mail.ru
